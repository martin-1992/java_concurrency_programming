
## 线程上下文类加载器
　　getContextClassLoader() 和 setContextClassLoader(ClassLoader cl) 分别用于获取和设置当前线程的上下文类加载器，如果当前线程没有设置上下文类加载器，那么它将和父线程保持同样的类加载器。
  
### 为什么需要线程上下文类加载器
　　这是由于 JVM 类加载器双亲委托机制自身的缺陷，迫不得已加入上下文类加载器。<br />
　　在 JDK 的核心库中提供了很多 SPI（Service Provider Interface），常见的 SPI 包括 JDBC、JCE、JDNI、JAXP 和 JBI 等，JDK 只规定了这些接口的逻辑关系，但不提供具体的实现，具体的实现由第三方厂商提供。这样做的好处是 JDBC 提供了高度抽象，应用程序只需面向接口编程即可，不用关心各大数据库厂商提供的具体实现，但问题在于 java.lang.sql 中的所有接口都由 JDK 提供，加载这些接口的类加载器是根加载器，第三方厂商提供的类库驱动则是由系统类加载器加载的，由于 JVM 类加载器的双亲委托机制，比如 Connection、Statement、RowSet 等皆由根加载器加载，第三方的 JDBC 驱动包中的实现不会被加载。<br />
　　换句话说，由于 JVM 类加载器双亲委托机制的限制，启动类加载器不可能加载得到第三方厂商提供的具体实现。为解决这个困境，JDK 使用线程上下文类加载器，这样启动类加载器（根加载器）反倒需要委托子类加载器去加载厂商提供的 SPI 具体实现，因为根加载器加载不了。父委托变成了子委托的方式，打破了双亲委托机制的模型。
